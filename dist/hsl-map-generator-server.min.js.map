{"version":3,"sources":["hsl-map-generator-server.min.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Koa","app","router","bodyParser","imageGenerator","post","ctx","Promise","resolve","_ref","data","status","type","body","request","use","routes","allowedMethods","listen","require"],"mappings":"AAAAA,OAAOC,QACE,SAAUC,GAKT,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUH,OAGnC,IAAID,GAASK,EAAiBD,IAC7BH,WACAK,GAAIF,EACJG,QAAQ,EAUT,OANAL,GAAQE,GAAUI,KAAKR,EAAOC,QAASD,EAAQA,EAAOC,QAASE,GAG/DH,EAAOO,QAAS,EAGTP,EAAOC,QAvBf,GAAII,KAqCJ,OATAF,GAAoBM,EAAIP,EAGxBC,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,GAGjBR,EAAoB,KAK/B,SAASH,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAMT,EAAoB,GAC1BU,EAAM,GAAID,GACVE,EAASX,EAAoB,KAC7BY,EAAaZ,EAAoB,KACjCa,EAAiBb,EAAoB,EAGzCW,GAAOG,KAAK,iBAAkB,SAAUC,GACtC,MAAO,IAAIC,SAAQ,SAAUC,GAC3B,MAAOJ,GAAe,SAAUK,GAC9B,GAAIC,GAAOD,EAAKC,IAEhBJ,GAAIK,OAAS,IACbL,EAAIM,KAAO,YACXN,EAAIO,KAAOH,EACXF,KACCF,EAAIQ,QAAQD,UAkBnBZ,EAAIc,IAAIZ,GAAYY,IAAIb,EAAOc,UAAUD,IAAIb,EAAOe,kBAAkBC,OAAO,MAIxE,SAAS9B,EAAQC,GAEtBD,EAAOC,QAAU8B,QAAQ,QAIpB,SAAS/B,EAAQC,GAEtBD,EAAOC,QAAU8B,QAAQ,eAIpB,SAAS/B,EAAQC,GAEtBD,EAAOC,QAAU8B,QAAQ,mBAIpB,SAAS/B,EAAQC,GAEtBD,EAAOC,QAAU8B,QAAQ","file":"hsl-map-generator-server.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Koa = __webpack_require__(1);\n\tvar app = new Koa();\n\tvar router = __webpack_require__(2)();\n\tvar bodyParser = __webpack_require__(3)();\n\tvar imageGenerator = __webpack_require__(4);\n\t// const stopLabelGenerator = require('./stopLabelGenerator');\n\t\n\trouter.post('/generateImage', function (ctx) {\n\t  return new Promise(function (resolve) {\n\t    return imageGenerator(function (_ref) {\n\t      var data = _ref.data;\n\t\n\t      ctx.status = 200; // eslint-disable-line no-param-reassign\n\t      ctx.type = 'image/png'; // eslint-disable-line no-param-reassign\n\t      ctx.body = data; // eslint-disable-line no-param-reassign\n\t      resolve();\n\t    }, ctx.request.body);\n\t  });\n\t});\n\t\n\t// router.post('/generateStopLabels', ctx =>\n\t//   new Promise((resolve) =>\n\t//     stopLabelGenerator(\n\t//       ({ data }) => {\n\t//         ctx.status = 200; // eslint-disable-line no-param-reassign\n\t//         ctx.type = 'application/html'; // eslint-disable-line no-param-reassign\n\t//         ctx.body = data; // eslint-disable-line no-param-reassign\n\t//         resolve();\n\t//       },\n\t//       ctx.request.body\n\t//     )\n\t//   )\n\t// );\n\t\n\tapp.use(bodyParser).use(router.routes()).use(router.allowedMethods()).listen(4000);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"koa\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"koa-router\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"koa-bodyparser\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"hsl-map-generator-core\");\n\n/***/ }\n/******/ ]);\n"],"sourceRoot":"/source/"}