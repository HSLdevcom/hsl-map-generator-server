{"version":3,"sources":["webpack:///webpack/bootstrap 6180a88138da5db68747","webpack:///./src/hsl-map-generator-server.js","webpack:///external \"koa\"","webpack:///external \"koa-router\"","webpack:///external \"koa-bodyparser\"","webpack:///external \"hsl-map-generator-core\""],"names":["Koa","require","app","router","bodyParser","imageGenerator","post","Promise","resolve","data","ctx","status","type","body","request","use","routes","allowedMethods","listen"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA,KAAMA,MAAM,mBAAAC,CAAQ,CAAR,CAAZ;AACA,KAAMC,MAAM,IAAIF,GAAJ,EAAZ;AACA,KAAMG,SAAS,mBAAAF,CAAQ,CAAR,GAAf;AACA,KAAMG,aAAa,mBAAAH,CAAQ,CAAR,GAAnB;AACA,KAAMI,iBAAiB,mBAAAJ,CAAQ,CAAR,CAAvB;AACA;;AAEAE,QAAOG,IAAP,CAAY,gBAAZ,EAA8B;AAAA,UAC5B,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,YACVH,eACE,gBAAc;AAAA,WAAXI,IAAW,QAAXA,IAAW;;AACZC,WAAIC,MAAJ,GAAa,GAAb,CADY,CACM;AAClBD,WAAIE,IAAJ,GAAW,WAAX,CAFY,CAEY;AACxBF,WAAIG,IAAJ,GAAWJ,IAAX,CAHY,CAGK;AACjBD;AACD,MANH,EAOEE,IAAII,OAAJ,CAAYD,IAPd,CADU;AAAA,IAAZ,CAD4B;AAAA,EAA9B;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAX,KACGa,GADH,CACOX,UADP,EAEGW,GAFH,CAEOZ,OAAOa,MAAP,EAFP,EAGGD,GAHH,CAGOZ,OAAOc,cAAP,EAHP,EAIGC,MAJH,CAIU,IAJV,E;;;;;;ACnCA,iC;;;;;;ACAA,wC;;;;;;ACAA,4C;;;;;;ACAA,oD","file":"hsl-map-generator-server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6180a88138da5db68747\n **/","const Koa = require('koa');\nconst app = new Koa();\nconst router = require('koa-router')();\nconst bodyParser = require('koa-bodyparser')();\nconst imageGenerator = require('hsl-map-generator-core');\n// const stopLabelGenerator = require('./stopLabelGenerator');\n\nrouter.post('/generateImage', ctx =>\n  new Promise((resolve) =>\n    imageGenerator(\n      ({ data }) => {\n        ctx.status = 200; // eslint-disable-line no-param-reassign\n        ctx.type = 'image/png'; // eslint-disable-line no-param-reassign\n        ctx.body = data; // eslint-disable-line no-param-reassign\n        resolve();\n      },\n      ctx.request.body\n    )\n  )\n);\n\n// router.post('/generateStopLabels', ctx =>\n//   new Promise((resolve) =>\n//     stopLabelGenerator(\n//       ({ data }) => {\n//         ctx.status = 200; // eslint-disable-line no-param-reassign\n//         ctx.type = 'application/html'; // eslint-disable-line no-param-reassign\n//         ctx.body = data; // eslint-disable-line no-param-reassign\n//         resolve();\n//       },\n//       ctx.request.body\n//     )\n//   )\n// );\n\napp\n  .use(bodyParser)\n  .use(router.routes())\n  .use(router.allowedMethods())\n  .listen(4000);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/hsl-map-generator-server.js\n **/","module.exports = require(\"koa\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"koa\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"koa-router\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"koa-router\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"koa-bodyparser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"koa-bodyparser\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"hsl-map-generator-core\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"hsl-map-generator-core\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}